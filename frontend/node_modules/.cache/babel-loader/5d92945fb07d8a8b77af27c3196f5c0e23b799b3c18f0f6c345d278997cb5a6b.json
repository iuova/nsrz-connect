{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Projects/nsrz-connect/frontend/src/components/NewsEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { createNews, updateNews } from '../api/newsApi';\nimport './NewsEditor.css';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsEditor = ({\n  news,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [formData, setFormData] = useState({\n    title: (news === null || news === void 0 ? void 0 : news.title) || '',\n    content: '',\n    imageUrl: (news === null || news === void 0 ? void 0 : news.imageUrl) || ''\n  });\n  const [error, setError] = useState('');\n  const [preview, setPreview] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState((news === null || news === void 0 ? void 0 : news.imageUrl) || '');\n\n  // Инициализация редактора с HTML-контентом, если он есть\n  useEffect(() => {\n    if (news !== null && news !== void 0 && news.content) {\n      const contentBlock = htmlToDraft(news.content);\n      if (contentBlock) {\n        const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n        const initialEditorState = EditorState.createWithContent(contentState);\n        setEditorState(initialEditorState);\n      }\n    }\n  }, [news]);\n\n  // Обновление контента при изменении состояния редактора\n  useEffect(() => {\n    const htmlContent = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n    setFormData(prev => ({\n      ...prev,\n      content: htmlContent\n    }));\n  }, [editorState]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleEditorChange = state => {\n    setEditorState(state);\n  };\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      // Создаем URL для предпросмотра изображения\n      const imageUrl = URL.createObjectURL(file);\n      setImagePreview(imageUrl);\n      // Сохраняем URL в форме для отправки\n      setFormData(prev => ({\n        ...prev,\n        imageUrl\n      }));\n    }\n  };\n  const removeImage = () => {\n    setImageFile(null);\n    setImagePreview('');\n    setFormData(prev => ({\n      ...prev,\n      imageUrl: ''\n    }));\n  };\n\n  // Функция для загрузки изображения на сервер и получения URL\n  const uploadImage = async file => {\n    // Создаем FormData для отправки файла\n    const formData = new FormData();\n    formData.append('image', file);\n    try {\n      // Здесь должен быть API-запрос для загрузки файла\n      // Например: const response = await axios.post('/api/upload', formData);\n      // Возвращаем URL загруженного изображения\n      // return response.data.imageUrl;\n\n      // Пока используем локальный URL для демонстрации\n      return URL.createObjectURL(file);\n    } catch (error) {\n      console.error('Ошибка загрузки изображения:', error);\n      throw error;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      let finalFormData = {\n        ...formData\n      };\n\n      // Если есть новое изображение, загружаем его\n      if (imageFile) {\n        const imageUrl = await uploadImage(imageFile);\n        finalFormData.imageUrl = imageUrl;\n      }\n      console.log('Отправляем данные новости:', finalFormData);\n      let response;\n      if (news !== null && news !== void 0 && news.id) {\n        console.log('Обновляем существующую новость с ID:', news.id);\n        response = await updateNews(news.id, finalFormData);\n      } else {\n        console.log('Создаем новую новость');\n        response = await createNews(finalFormData);\n      }\n      console.log('Новость успешно сохранена', response);\n      onSave();\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Error saving news:', error);\n      console.error('Детали ошибки:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Ошибка сохранения новости');\n    }\n  };\n  const toolbarOptions = {\n    options: ['inline', 'blockType', 'fontSize', 'fontFamily', 'list', 'textAlign', 'colorPicker', 'link', 'image', 'remove', 'history'],\n    inline: {\n      options: ['bold', 'italic', 'underline', 'strikethrough', 'monospace']\n    },\n    blockType: {\n      options: ['Normal', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Blockquote']\n    },\n    fontSize: {\n      options: [8, 9, 10, 11, 12, 14, 16, 18, 24, 30, 36, 48]\n    },\n    fontFamily: {\n      options: ['Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana']\n    }\n  };\n\n  // Компонент предпросмотра новости\n  const NewsPreview = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"news-preview\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: formData.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imagePreview,\n        alt: formData.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-content-preview\",\n      dangerouslySetInnerHTML: {\n        __html: formData.content\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-meta\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"news-date\",\n        children: new Date().toLocaleDateString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"news-author\",\n        children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"close-button\",\n        onClick: onCancel,\n        \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: news !== null && news !== void 0 && news.id ? 'Новость (редактирование)' : 'Новость (создание)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `tab-button ${!preview ? 'active' : ''}`,\n          onClick: () => setPreview(false),\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `tab-button ${preview ? 'active' : ''}`,\n          onClick: () => setPreview(true),\n          children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), preview ? /*#__PURE__*/_jsxDEV(NewsPreview, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleChange,\n            required: true,\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"image-upload-label\",\n          children: [\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleImageChange,\n            className: \"image-upload-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"image-upload-btn\",\n            onClick: () => document.querySelector('.image-upload-input').click(),\n            children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreview,\n            alt: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"remove-image-btn\",\n            onClick: removeImage,\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"content-editor-label\",\n          children: [\"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(Editor, {\n            editorState: editorState,\n            onEditorStateChange: handleEditorChange,\n            toolbar: toolbarOptions,\n            editorClassName: \"content-editor\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438...\",\n            localization: {\n              locale: 'ru'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            className: \"btn-cancel\",\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-save\",\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsEditor, \"tXTaM5zCRpIdF+K2yshqS8lkjGE=\");\n_c = NewsEditor;\nexport default NewsEditor;\nvar _c;\n$RefreshReg$(_c, \"NewsEditor\");","map":{"version":3,"names":["React","useState","useEffect","createNews","updateNews","EditorState","convertToRaw","ContentState","Editor","draftToHtml","htmlToDraft","jsxDEV","_jsxDEV","NewsEditor","news","onSave","onCancel","_s","editorState","setEditorState","createEmpty","formData","setFormData","title","content","imageUrl","error","setError","preview","setPreview","imageFile","setImageFile","imagePreview","setImagePreview","contentBlock","contentState","createFromBlockArray","contentBlocks","initialEditorState","createWithContent","htmlContent","getCurrentContent","prev","handleChange","e","name","value","target","handleEditorChange","state","handleImageChange","file","files","URL","createObjectURL","removeImage","uploadImage","FormData","append","console","handleSubmit","preventDefault","finalFormData","log","response","id","_error$response","_error$response2","_error$response2$data","data","message","toolbarOptions","options","inline","blockType","fontSize","fontFamily","NewsPreview","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","dangerouslySetInnerHTML","__html","Date","toLocaleDateString","type","onClick","onSubmit","onChange","required","placeholder","accept","document","querySelector","click","onEditorStateChange","toolbar","editorClassName","localization","locale","_c","$RefreshReg$"],"sources":["/Users/mac/Projects/nsrz-connect/frontend/src/components/NewsEditor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { createNews, updateNews } from '../api/newsApi';\nimport './NewsEditor.css';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nconst NewsEditor = ({ news, onSave, onCancel }) => {\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [formData, setFormData] = useState({\n    title: news?.title || '',\n    content: '',\n    imageUrl: news?.imageUrl || ''\n  });\n  const [error, setError] = useState('');\n  const [preview, setPreview] = useState(false);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(news?.imageUrl || '');\n\n  // Инициализация редактора с HTML-контентом, если он есть\n  useEffect(() => {\n    if (news?.content) {\n      const contentBlock = htmlToDraft(news.content);\n      if (contentBlock) {\n        const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n        const initialEditorState = EditorState.createWithContent(contentState);\n        setEditorState(initialEditorState);\n      }\n    }\n  }, [news]);\n\n  // Обновление контента при изменении состояния редактора\n  useEffect(() => {\n    const htmlContent = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n    setFormData(prev => ({ ...prev, content: htmlContent }));\n  }, [editorState]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleEditorChange = (state) => {\n    setEditorState(state);\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      // Создаем URL для предпросмотра изображения\n      const imageUrl = URL.createObjectURL(file);\n      setImagePreview(imageUrl);\n      // Сохраняем URL в форме для отправки\n      setFormData(prev => ({ ...prev, imageUrl }));\n    }\n  };\n\n  const removeImage = () => {\n    setImageFile(null);\n    setImagePreview('');\n    setFormData(prev => ({ ...prev, imageUrl: '' }));\n  };\n\n  // Функция для загрузки изображения на сервер и получения URL\n  const uploadImage = async (file) => {\n    // Создаем FormData для отправки файла\n    const formData = new FormData();\n    formData.append('image', file);\n\n    try {\n      // Здесь должен быть API-запрос для загрузки файла\n      // Например: const response = await axios.post('/api/upload', formData);\n      // Возвращаем URL загруженного изображения\n      // return response.data.imageUrl;\n      \n      // Пока используем локальный URL для демонстрации\n      return URL.createObjectURL(file);\n    } catch (error) {\n      console.error('Ошибка загрузки изображения:', error);\n      throw error;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    try {\n      let finalFormData = { ...formData };\n      \n      // Если есть новое изображение, загружаем его\n      if (imageFile) {\n        const imageUrl = await uploadImage(imageFile);\n        finalFormData.imageUrl = imageUrl;\n      }\n      \n      console.log('Отправляем данные новости:', finalFormData);\n      \n      let response;\n      if (news?.id) {\n        console.log('Обновляем существующую новость с ID:', news.id);\n        response = await updateNews(news.id, finalFormData);\n      } else {\n        console.log('Создаем новую новость');\n        response = await createNews(finalFormData);\n      }\n      \n      console.log('Новость успешно сохранена', response);\n      onSave();\n    } catch (error) {\n      console.error('Error saving news:', error);\n      console.error('Детали ошибки:', error.response?.data || error.message);\n      setError(error.response?.data?.error || error.message || 'Ошибка сохранения новости');\n    }\n  };\n\n  const toolbarOptions = {\n    options: ['inline', 'blockType', 'fontSize', 'fontFamily', 'list', 'textAlign', 'colorPicker', 'link', 'image', 'remove', 'history'],\n    inline: {\n      options: ['bold', 'italic', 'underline', 'strikethrough', 'monospace'],\n    },\n    blockType: {\n      options: ['Normal', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Blockquote'],\n    },\n    fontSize: {\n      options: [8, 9, 10, 11, 12, 14, 16, 18, 24, 30, 36, 48],\n    },\n    fontFamily: {\n      options: ['Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana'],\n    },\n  };\n\n  // Компонент предпросмотра новости\n  const NewsPreview = () => (\n    <div className=\"news-preview\">\n      <h2>{formData.title}</h2>\n      \n      {imagePreview && (\n        <div className=\"news-image\">\n          <img src={imagePreview} alt={formData.title} />\n        </div>\n      )}\n      \n      <div \n        className=\"news-content-preview\"\n        dangerouslySetInnerHTML={{ __html: formData.content }}\n      />\n      \n      <div className=\"news-meta\">\n        <span className=\"news-date\">{new Date().toLocaleDateString()}</span>\n        <span className=\"news-author\">Администратор</span>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"editor-modal\">\n      <div className=\"editor-form\">\n        <button \n          type=\"button\" \n          className=\"close-button\" \n          onClick={onCancel} \n          aria-label=\"Закрыть\"\n        ></button>\n        \n        <h2>{news?.id ? 'Новость (редактирование)' : 'Новость (создание)'}</h2>\n        \n        {error && (\n          <div className=\"error-message\">\n            {error}\n          </div>\n        )}\n        \n        <div className=\"editor-tabs\">\n          <button \n            type=\"button\"\n            className={`tab-button ${!preview ? 'active' : ''}`}\n            onClick={() => setPreview(false)}\n          >\n            Редактирование\n          </button>\n          <button \n            type=\"button\"\n            className={`tab-button ${preview ? 'active' : ''}`}\n            onClick={() => setPreview(true)}\n          >\n            Предпросмотр\n          </button>\n        </div>\n        \n        {preview ? (\n          <NewsPreview />\n        ) : (\n          <form onSubmit={handleSubmit}>\n            <label>\n              Заголовок:\n              <input\n                type=\"text\"\n                name=\"title\"\n                value={formData.title}\n                onChange={handleChange}\n                required\n                placeholder=\"Введите заголовок новости\"\n              />\n            </label>\n\n            <label className=\"image-upload-label\">\n              Изображение:\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                className=\"image-upload-input\"\n              />\n              <button \n                type=\"button\"\n                className=\"image-upload-btn\"\n                onClick={() => document.querySelector('.image-upload-input').click()}\n              >\n                Выбрать изображение\n              </button>\n            </label>\n\n            {imagePreview && (\n              <div className=\"image-preview\">\n                <img src={imagePreview} alt=\"Preview\" />\n                <button \n                  type=\"button\"\n                  className=\"remove-image-btn\"\n                  onClick={removeImage}\n                >\n                  Удалить изображение\n                </button>\n              </div>\n            )}\n\n            <label className=\"content-editor-label\">\n              Содержание:\n              <Editor\n                editorState={editorState}\n                onEditorStateChange={handleEditorChange}\n                toolbar={toolbarOptions}\n                editorClassName=\"content-editor\"\n                placeholder=\"Введите содержание новости...\"\n                localization={{\n                  locale: 'ru',\n                }}\n              />\n            </label>\n\n            <div className=\"form-actions\">\n              <button \n                type=\"button\" \n                onClick={onCancel}\n                className=\"btn-cancel\"\n              >\n                Отмена\n              </button>\n              <button type=\"submit\" className=\"btn-save\">\n                Сохранить\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NewsEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}